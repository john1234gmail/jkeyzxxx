(function(g){var window=this;'use strict';var nI=function(h,e){g.P.call(this,{T:"button",eV:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],C:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},S:[{T:"svg",C:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},S:[{T:"g",C:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},S:[{T:"g",C:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
S:[{T:"path",C:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.j=h;this.listen("click",this.onClick,this);this.updateValue("title",g.Xs(h,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.d0(e.jq(),this.element))},fkL=function(h){g.P.call(this,
{T:"div",
Z:"ytp-miniplayer-ui"});this.X=!1;this.player=h;this.G(h,"minimized",this.uI);this.G(h,"onStateChange",this.ZxW);this.G(h,"documentpictureinpicturechange",this.S4O)},VtZ=function(h,e){g.IL(h.player.getRootNode(),"ytp-player-minimized",e)},y6F=function(h){g.IB.call(this,h);
this.K=new g.bZ(this);this.D=new fkL(this.player);this.D.hide();g.KO(this.player,this.D.element,4);h.isMinimized()&&(this.load(),g.IL(h.getRootNode(),"ytp-player-minimized",!0))};
g.J(nI,g.P);nI.prototype.onClick=function(){this.j.hw("onExpandMiniplayer")};g.J(fkL,g.P);g.y=fkL.prototype;
g.y.show=function(){this.D=new g.NH(this.SM,null,this);this.D.start();if(!this.X){this.tooltip=new g.wD(this.player,this);g.H(this,this.tooltip);g.KO(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.Ub=new g.Lr(this.player);g.H(this,this.Ub);this.progressBar=new g.mm(this.player,this);g.H(this,this.progressBar);g.KO(this.player,this.progressBar.element,4);this.K=new g.P({T:"div",Z:"ytp-miniplayer-scrim"});g.H(this,this.K);this.K.yW(this.element);this.G(this.K.element,"click",this.Xl);
var h=new g.P({T:"button",eV:["ytp-miniplayer-close-button","ytp-button"],C:{"aria-label":"Close"},S:[g.Xq()]});g.H(this,h);h.yW(this.K.element);this.G(h.element,"click",this.LU);h=new nI(this.player,this);g.H(this,h);h.yW(this.K.element);this.N=new g.P({T:"div",Z:"ytp-miniplayer-controls"});g.H(this,this.N);this.N.yW(this.K.element);this.G(this.N.element,"click",this.Xl);var e=new g.P({T:"div",Z:"ytp-miniplayer-button-container"});g.H(this,e);e.yW(this.N.element);h=new g.P({T:"div",Z:"ytp-miniplayer-play-button-container"});
g.H(this,h);h.yW(this.N.element);var t=new g.P({T:"div",Z:"ytp-miniplayer-button-container"});g.H(this,t);t.yW(this.N.element);this.W=new g.pq(this.player,this,!1);g.H(this,this.W);this.W.yW(e.element);e=new g.kI(this.player,this);g.H(this,e);e.yW(h.element);this.nextButton=new g.pq(this.player,this,!0);g.H(this,this.nextButton);this.nextButton.yW(t.element);this.J=new g.IF(this.player,this,0);g.H(this,this.J);this.J.yW(this.K.element);this.B=new g.P({T:"div",Z:"ytp-miniplayer-buttons"});g.H(this,
this.B);g.KO(this.player,this.B.element,4);h=new g.P({T:"button",eV:["ytp-miniplayer-close-button","ytp-button"],C:{"aria-label":"Close"},S:[g.Xq()]});g.H(this,h);h.yW(this.B.element);this.G(h.element,"click",this.LU);h=new g.P({T:"button",eV:["ytp-miniplayer-replay-button","ytp-button"],C:{"aria-label":"Close"},S:[g.kG()]});g.H(this,h);h.yW(this.B.element);this.G(h.element,"click",this.bZ$);h=new nI(this.player,this);g.H(this,h);h.yW(this.B.element);this.G(this.player,"presentingplayerstatechange",
this.dP);this.G(this.player,"appresize",this.h0);this.G(this.player,"fullscreentoggled",this.h0);this.h0();this.X=!0}this.player.getPlayerState()!==0&&g.P.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.y.hide=function(){this.D&&(this.D.dispose(),this.D=void 0);g.P.prototype.hide.call(this);this.player.isMinimized()||(this.X&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.y.Ks=function(){this.D&&(this.D.dispose(),this.D=void 0);g.P.prototype.Ks.call(this)};
g.y.LU=function(){this.player.L("kevlar_watch_while_v2")||this.player.stopVideo();this.player.hw("onCloseMiniplayer")};
g.y.bZ$=function(){this.player.playVideo()};
g.y.Xl=function(h){if(h.target===this.K.element||h.target===this.N.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.y.uI=function(){VtZ(this,this.player.isMinimized())};
g.y.S4O=function(){VtZ(this,this.player.vt());g.IL(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.vt())};
g.y.hx=function(){this.progressBar.ZE();this.J.ZE()};
g.y.SM=function(){this.hx();this.D&&this.D.start()};
g.y.dP=function(h){g.M(h.state,32)&&this.tooltip.hide()};
g.y.h0=function(){var h=this.player.Rj().getPlayerSize().width;g.OQk(this.progressBar,0,h,!1);g.Bu(this.progressBar)};
g.y.ZxW=function(h){this.player.isMinimized()&&(h===0?this.hide():this.show())};
g.y.jq=function(){return this.tooltip};
g.y.ij=function(h,e,t,Q,N){var f=0,V=0,R=0,u=g.kR(h);Q=e&&(g.Ad(e,"ytp-prev-button")||g.Ad(e,"ytp-next-button"));if(e){t=g.Ad(e,"ytp-play-button");var U=g.Ad(e,"ytp-miniplayer-expand-watch-page-button");Q?f=R=12:t?(e=g.nS(e,this.element),R=e.x,f=e.y-12):U&&(R=g.Ad(e,"ytp-miniplayer-button-top-left"),f=g.nS(e,this.element),e=g.kR(e),R?(R=8,f=f.y+40):(R=f.x-u.width+e.width,f=f.y-20))}else R=t-u.width/2,V=25+(N||0);e=this.player.Rj().getPlayerSize();N=f+(N||0);u=g.Sa(R,0,e.width-u.width-12);N?(h.style.top=
N+"px",h.style.bottom=""):(h.style.top="",h.style.bottom=V+"px");h.style.left=u+"px";V=g.Ad(h,"ytp-preview");h.style.visibility=Q&&V&&e.height<225?"hidden":""};g.J(y6F,g.IB);g.y=y6F.prototype;g.y.onVideoDataChange=function(){if(this.player.getVideoData()){var h=this.player.getVideoAspectRatio(),e=16/9;h=h>e+.1||h<e-.1;g.IL(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",h)}};
g.y.create=function(){g.IB.prototype.create.call(this);this.K.G(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.y.mI=function(){return!1};
g.y.load=function(){this.player.hideControls();this.D.show()};
g.y.unload=function(){this.player.showControls();this.D.hide()};g.c3("miniplayer",y6F);})(_yt_player);
